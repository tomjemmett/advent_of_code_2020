<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Day 5 Binary Boarding | Advent of Code 2020</title>
  <meta name="description" content="My attempt to complete AOC 2020 in R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Day 5 Binary Boarding | Advent of Code 2020" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="My attempt to complete AOC 2020 in R" />
  <meta name="github-repo" content="tomjemmett/advent-of-code-2020" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Day 5 Binary Boarding | Advent of Code 2020" />
  
  <meta name="twitter:description" content="My attempt to complete AOC 2020 in R" />
  

<meta name="author" content="Tom Jemmett" />


<meta name="date" content="2020-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="passport-processing.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Advent of Code 2020</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="report-repair.html"><a href="report-repair.html"><i class="fa fa-check"></i><b>1</b> Report Repair</a><ul>
<li class="chapter" data-level="1.1" data-path="report-repair.html"><a href="report-repair.html#part-1"><i class="fa fa-check"></i><b>1.1</b> Part 1</a><ul>
<li class="chapter" data-level="1.1.1" data-path="report-repair.html"><a href="report-repair.html#is-the-improved-algorithm-any-better"><i class="fa fa-check"></i><b>1.1.1</b> is the improved algorithm any better?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="report-repair.html"><a href="report-repair.html#part-2"><i class="fa fa-check"></i><b>1.2</b> Part 2</a><ul>
<li class="chapter" data-level="1.2.1" data-path="report-repair.html"><a href="report-repair.html#is-our-improved-algorithm-better-this-time"><i class="fa fa-check"></i><b>1.2.1</b> Is our improved algorithm better this time?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="report-repair.html"><a href="report-repair.html#extra-implementing-in-python"><i class="fa fa-check"></i><b>1.3</b> Extra: Implementing in Python</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="password-philosophy.html"><a href="password-philosophy.html"><i class="fa fa-check"></i><b>2</b> Password Philosophy</a><ul>
<li class="chapter" data-level="2.1" data-path="password-philosophy.html"><a href="password-philosophy.html#part-1-1"><i class="fa fa-check"></i><b>2.1</b> Part 1</a></li>
<li class="chapter" data-level="2.2" data-path="password-philosophy.html"><a href="password-philosophy.html#part-2-1"><i class="fa fa-check"></i><b>2.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html"><i class="fa fa-check"></i><b>3</b> Toboggan Trajectory</a><ul>
<li class="chapter" data-level="3.1" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#part-1-2"><i class="fa fa-check"></i><b>3.1</b> Part 1</a></li>
<li class="chapter" data-level="3.2" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#part-2-2"><i class="fa fa-check"></i><b>3.2</b> Part 2</a></li>
<li class="chapter" data-level="3.3" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#extra-is-there-a-path-that-minimises-the-number-of-trees-you-encounter"><i class="fa fa-check"></i><b>3.3</b> Extra: Is there a path that minimises the number of trees you encounter?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="passport-processing.html"><a href="passport-processing.html"><i class="fa fa-check"></i><b>4</b> Passport Processing</a><ul>
<li class="chapter" data-level="4.1" data-path="passport-processing.html"><a href="passport-processing.html#part-1-3"><i class="fa fa-check"></i><b>4.1</b> Part 1</a></li>
<li class="chapter" data-level="4.2" data-path="passport-processing.html"><a href="passport-processing.html#part-2-3"><i class="fa fa-check"></i><b>4.2</b> Part 2</a></li>
<li class="chapter" data-level="4.3" data-path="passport-processing.html"><a href="passport-processing.html#extra-solving-with-regular-expressions"><i class="fa fa-check"></i><b>4.3</b> Extra: Solving with regular expressions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="binary-boarding.html"><a href="binary-boarding.html"><i class="fa fa-check"></i><b>5</b> Binary Boarding</a><ul>
<li class="chapter" data-level="5.1" data-path="binary-boarding.html"><a href="binary-boarding.html#part-1-4"><i class="fa fa-check"></i><b>5.1</b> Part 1</a></li>
<li class="chapter" data-level="5.2" data-path="binary-boarding.html"><a href="binary-boarding.html#part-2-4"><i class="fa fa-check"></i><b>5.2</b> Part 2</a></li>
<li class="chapter" data-level="5.3" data-path="binary-boarding.html"><a href="binary-boarding.html#extra-solving-algebraicly"><i class="fa fa-check"></i><b>5.3</b> Extra: Solving algebraicly</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advent of Code 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="binary-boarding" class="section level1">
<h1><span class="header-section-number">Day 5</span> Binary Boarding</h1>
<p>This is my attempt to solve <a href="https://adventofcode.com/2020/day/5">Day 5</a>.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="binary-boarding.html#cb83-1"></a>sample &lt;-<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">&quot;samples/day_05_sample.txt&quot;</span>)</span>
<span id="cb83-2"><a href="binary-boarding.html#cb83-2"></a>actual &lt;-<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">&quot;inputs/day_05_input.txt&quot;</span>)</span></code></pre></div>
<div id="part-1-4" class="section level2">
<h2><span class="header-section-number">5.1</span> Part 1</h2>
<p>Today’s challenge can be solved with a recursive function where at each step we divide the search space in half. The
same algorithm (<code>partition()</code>) will work for both the rows and the columns, we just need to adjust the starting point
(<code>i</code>) and the <code>min</code> and <code>max</code> values. Because we are dividing the search space in half at each iteration when the <code>min</code>
and <code>max</code> values are equal we can simply return either value.</p>
<p>The <code>s</code> argument to <code>partition()</code> should be a vector of individual characters, e.g. <code>c("a", "b", "c")</code>.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="binary-boarding.html#cb84-1"></a>partition &lt;-<span class="st"> </span><span class="cf">function</span>(s, i, min, max) {</span>
<span id="cb84-2"><a href="binary-boarding.html#cb84-2"></a>  <span class="cf">if</span> (min <span class="op">==</span><span class="st"> </span>max) {</span>
<span id="cb84-3"><a href="binary-boarding.html#cb84-3"></a>    <span class="kw">return</span> (min)</span>
<span id="cb84-4"><a href="binary-boarding.html#cb84-4"></a>  }</span>
<span id="cb84-5"><a href="binary-boarding.html#cb84-5"></a>  </span>
<span id="cb84-6"><a href="binary-boarding.html#cb84-6"></a>  <span class="co"># what is the distance between min and max?</span></span>
<span id="cb84-7"><a href="binary-boarding.html#cb84-7"></a>  d &lt;-<span class="st"> </span>max <span class="op">-</span><span class="st"> </span>min <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb84-8"><a href="binary-boarding.html#cb84-8"></a>  <span class="co"># find the half way point</span></span>
<span id="cb84-9"><a href="binary-boarding.html#cb84-9"></a>  m &lt;-<span class="st"> </span>d <span class="op">%/%</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb84-10"><a href="binary-boarding.html#cb84-10"></a>  </span>
<span id="cb84-11"><a href="binary-boarding.html#cb84-11"></a>  <span class="co"># update either the min or max position</span></span>
<span id="cb84-12"><a href="binary-boarding.html#cb84-12"></a>  <span class="cf">if</span> (s[[i]] <span class="op">==</span><span class="st"> &quot;F&quot;</span> <span class="op">|</span><span class="st"> </span>s[[i]] <span class="op">==</span><span class="st"> &quot;L&quot;</span>) {</span>
<span id="cb84-13"><a href="binary-boarding.html#cb84-13"></a>    max &lt;-<span class="st"> </span>max <span class="op">-</span><span class="st"> </span>m</span>
<span id="cb84-14"><a href="binary-boarding.html#cb84-14"></a>  } <span class="cf">else</span> {</span>
<span id="cb84-15"><a href="binary-boarding.html#cb84-15"></a>    min &lt;-<span class="st"> </span>min <span class="op">+</span><span class="st"> </span>m</span>
<span id="cb84-16"><a href="binary-boarding.html#cb84-16"></a>  }</span>
<span id="cb84-17"><a href="binary-boarding.html#cb84-17"></a>  </span>
<span id="cb84-18"><a href="binary-boarding.html#cb84-18"></a>  <span class="co"># call partition on the next character</span></span>
<span id="cb84-19"><a href="binary-boarding.html#cb84-19"></a>  <span class="kw">partition</span>(s, i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, min, max)</span>
<span id="cb84-20"><a href="binary-boarding.html#cb84-20"></a>}</span></code></pre></div>
<p>We can now build a function to process each string and return the data as a list.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="binary-boarding.html#cb85-1"></a>process_string &lt;-<span class="st"> </span><span class="cf">function</span>(string) {</span>
<span id="cb85-2"><a href="binary-boarding.html#cb85-2"></a>  s &lt;-<span class="st"> </span><span class="kw">str_extract_all</span>(string, <span class="st">&quot;.&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb85-3"><a href="binary-boarding.html#cb85-3"></a>  </span>
<span id="cb85-4"><a href="binary-boarding.html#cb85-4"></a>  row &lt;-<span class="st"> </span><span class="kw">partition</span>(s, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">127</span>)</span>
<span id="cb85-5"><a href="binary-boarding.html#cb85-5"></a>  col &lt;-<span class="st"> </span><span class="kw">partition</span>(s, <span class="dv">8</span>, <span class="dv">0</span>, <span class="dv">7</span>)</span>
<span id="cb85-6"><a href="binary-boarding.html#cb85-6"></a>  </span>
<span id="cb85-7"><a href="binary-boarding.html#cb85-7"></a>  <span class="kw">list</span>(</span>
<span id="cb85-8"><a href="binary-boarding.html#cb85-8"></a>    <span class="dt">row =</span> row,</span>
<span id="cb85-9"><a href="binary-boarding.html#cb85-9"></a>    <span class="dt">col =</span> col,</span>
<span id="cb85-10"><a href="binary-boarding.html#cb85-10"></a>    <span class="dt">seat =</span> row <span class="op">*</span><span class="st"> </span><span class="dv">8</span> <span class="op">+</span><span class="st"> </span>col</span>
<span id="cb85-11"><a href="binary-boarding.html#cb85-11"></a>  )</span>
<span id="cb85-12"><a href="binary-boarding.html#cb85-12"></a>}</span></code></pre></div>
<p>And now we can our function on the sample data.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="binary-boarding.html#cb86-1"></a>sample <span class="op">%&gt;%</span></span>
<span id="cb86-2"><a href="binary-boarding.html#cb86-2"></a><span class="st">  </span><span class="kw">map_dfr</span>(process_string) <span class="op">%&gt;%</span></span>
<span id="cb86-3"><a href="binary-boarding.html#cb86-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">str =</span> sample, <span class="dt">.before =</span> <span class="kw">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   str          row   col  seat
##   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 BFFFBBFRRR    70     7   567
## 2 FFFBBBFRRR    14     7   119
## 3 BBFFBBFRLL   102     4   820</code></pre>
<p>This matches the provided example, so we can run the function on our actual data.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="binary-boarding.html#cb88-1"></a>actual <span class="op">%&gt;%</span></span>
<span id="cb88-2"><a href="binary-boarding.html#cb88-2"></a><span class="st">  </span><span class="kw">map_dfr</span>(process_string) <span class="op">%&gt;%</span></span>
<span id="cb88-3"><a href="binary-boarding.html#cb88-3"></a><span class="st">  </span><span class="kw">pull</span>(seat) <span class="op">%&gt;%</span></span>
<span id="cb88-4"><a href="binary-boarding.html#cb88-4"></a><span class="st">  </span><span class="kw">max</span>()</span></code></pre></div>
<pre><code>## [1] 816</code></pre>
</div>
<div id="part-2-4" class="section level2">
<h2><span class="header-section-number">5.2</span> Part 2</h2>
<p>For part 2 we can use the same function from part 1 to get the list of seats. Then, we can find the minimum and maximum
seat number and create the range of values, then simply find the seat that isn’t in this range.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="binary-boarding.html#cb90-1"></a>seats &lt;-<span class="st"> </span>actual <span class="op">%&gt;%</span></span>
<span id="cb90-2"><a href="binary-boarding.html#cb90-2"></a><span class="st">  </span><span class="kw">map_dfr</span>(process_string) <span class="op">%&gt;%</span></span>
<span id="cb90-3"><a href="binary-boarding.html#cb90-3"></a><span class="st">  </span><span class="kw">pull</span>(seat)</span>
<span id="cb90-4"><a href="binary-boarding.html#cb90-4"></a></span>
<span id="cb90-5"><a href="binary-boarding.html#cb90-5"></a>range &lt;-<span class="st"> </span><span class="kw">min</span>(seats)<span class="op">:</span><span class="kw">max</span>(seats)</span>
<span id="cb90-6"><a href="binary-boarding.html#cb90-6"></a>range[<span class="op">!</span>range <span class="op">%in%</span><span class="st"> </span>seats]</span></code></pre></div>
<pre><code>## [1] 539</code></pre>
</div>
<div id="extra-solving-algebraicly" class="section level2">
<h2><span class="header-section-number">5.3</span> Extra: Solving algebraicly</h2>
<p>Triangle numbers are defined as:</p>
<p><span class="math display">\[
\sum_{i=1}^{n} i = \frac{n(n + 1)}{2}
\]</span></p>
<p>If we were to find the triangle number of the maximum value and subtract the triangle number of one less than the
smallest seat that would give us the sum of the seats if all were occupied. So if we simply subtract the sum of the
seats this will leave us with the empty seat.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="binary-boarding.html#cb92-1"></a>triangle_number &lt;-<span class="st"> </span><span class="cf">function</span>(n) <span class="fl">0.5</span> <span class="op">*</span><span class="st"> </span>n <span class="op">*</span><span class="st"> </span>(n <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb92-2"><a href="binary-boarding.html#cb92-2"></a></span>
<span id="cb92-3"><a href="binary-boarding.html#cb92-3"></a><span class="kw">triangle_number</span>(<span class="kw">max</span>(seats)) <span class="op">-</span><span class="st"> </span><span class="kw">triangle_number</span>(<span class="kw">min</span>(seats) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">-</span><span class="st"> </span><span class="kw">sum</span>(seats)</span></code></pre></div>
<pre><code>## [1] 539</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="passport-processing.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
