<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Day 3 Toboggan Trajectory | Advent of Code 2020</title>
  <meta name="description" content="My attempt to complete AOC 2020 in R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Day 3 Toboggan Trajectory | Advent of Code 2020" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="My attempt to complete AOC 2020 in R" />
  <meta name="github-repo" content="tomjemmett/advent-of-code-2020" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Day 3 Toboggan Trajectory | Advent of Code 2020" />
  
  <meta name="twitter:description" content="My attempt to complete AOC 2020 in R" />
  

<meta name="author" content="Tom Jemmett" />


<meta name="date" content="2021-01-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="password-philosophy.html"/>
<link rel="next" href="passport-processing.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Advent of Code 2020</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="report-repair.html"><a href="report-repair.html"><i class="fa fa-check"></i><b>1</b> Report Repair</a><ul>
<li class="chapter" data-level="1.1" data-path="report-repair.html"><a href="report-repair.html#part-1"><i class="fa fa-check"></i><b>1.1</b> Part 1</a><ul>
<li class="chapter" data-level="1.1.1" data-path="report-repair.html"><a href="report-repair.html#is-the-improved-algorithm-any-better"><i class="fa fa-check"></i><b>1.1.1</b> is the improved algorithm any better?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="report-repair.html"><a href="report-repair.html#part-2"><i class="fa fa-check"></i><b>1.2</b> Part 2</a><ul>
<li class="chapter" data-level="1.2.1" data-path="report-repair.html"><a href="report-repair.html#is-our-improved-algorithm-better-this-time"><i class="fa fa-check"></i><b>1.2.1</b> Is our improved algorithm better this time?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="report-repair.html"><a href="report-repair.html#extra-implementing-in-python"><i class="fa fa-check"></i><b>1.3</b> Extra: Implementing in Python</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="password-philosophy.html"><a href="password-philosophy.html"><i class="fa fa-check"></i><b>2</b> Password Philosophy</a><ul>
<li class="chapter" data-level="2.1" data-path="password-philosophy.html"><a href="password-philosophy.html#part-1-1"><i class="fa fa-check"></i><b>2.1</b> Part 1</a></li>
<li class="chapter" data-level="2.2" data-path="password-philosophy.html"><a href="password-philosophy.html#part-2-1"><i class="fa fa-check"></i><b>2.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html"><i class="fa fa-check"></i><b>3</b> Toboggan Trajectory</a><ul>
<li class="chapter" data-level="3.1" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#part-1-2"><i class="fa fa-check"></i><b>3.1</b> Part 1</a></li>
<li class="chapter" data-level="3.2" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#part-2-2"><i class="fa fa-check"></i><b>3.2</b> Part 2</a></li>
<li class="chapter" data-level="3.3" data-path="toboggan-trajectory.html"><a href="toboggan-trajectory.html#extra-is-there-a-path-that-minimises-the-number-of-trees-you-encounter"><i class="fa fa-check"></i><b>3.3</b> Extra: Is there a path that minimises the number of trees you encounter?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="passport-processing.html"><a href="passport-processing.html"><i class="fa fa-check"></i><b>4</b> Passport Processing</a><ul>
<li class="chapter" data-level="4.1" data-path="passport-processing.html"><a href="passport-processing.html#part-1-3"><i class="fa fa-check"></i><b>4.1</b> Part 1</a></li>
<li class="chapter" data-level="4.2" data-path="passport-processing.html"><a href="passport-processing.html#part-2-3"><i class="fa fa-check"></i><b>4.2</b> Part 2</a></li>
<li class="chapter" data-level="4.3" data-path="passport-processing.html"><a href="passport-processing.html#extra-solving-with-regular-expressions"><i class="fa fa-check"></i><b>4.3</b> Extra: Solving with regular expressions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="binary-boarding.html"><a href="binary-boarding.html"><i class="fa fa-check"></i><b>5</b> Binary Boarding</a><ul>
<li class="chapter" data-level="5.1" data-path="binary-boarding.html"><a href="binary-boarding.html#part-1-4"><i class="fa fa-check"></i><b>5.1</b> Part 1</a></li>
<li class="chapter" data-level="5.2" data-path="binary-boarding.html"><a href="binary-boarding.html#part-2-4"><i class="fa fa-check"></i><b>5.2</b> Part 2</a></li>
<li class="chapter" data-level="5.3" data-path="binary-boarding.html"><a href="binary-boarding.html#extra-solving-algebraicly"><i class="fa fa-check"></i><b>5.3</b> Extra: Solving algebraicly</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="custom-customs.html"><a href="custom-customs.html"><i class="fa fa-check"></i><b>6</b> Custom Customs</a><ul>
<li class="chapter" data-level="6.1" data-path="custom-customs.html"><a href="custom-customs.html#part-1-5"><i class="fa fa-check"></i><b>6.1</b> Part 1</a></li>
<li class="chapter" data-level="6.2" data-path="custom-customs.html"><a href="custom-customs.html#part-2-5"><i class="fa fa-check"></i><b>6.2</b> Part 2</a></li>
<li class="chapter" data-level="6.3" data-path="custom-customs.html"><a href="custom-customs.html#extra-solving-part-1-2-with-set-functions"><i class="fa fa-check"></i><b>6.3</b> Extra: solving part 1 &amp; 2 with set functions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="handy-haversacks.html"><a href="handy-haversacks.html"><i class="fa fa-check"></i><b>7</b> Handy Haversacks</a><ul>
<li class="chapter" data-level="7.1" data-path="handy-haversacks.html"><a href="handy-haversacks.html#part-1-6"><i class="fa fa-check"></i><b>7.1</b> Part 1</a></li>
<li class="chapter" data-level="7.2" data-path="handy-haversacks.html"><a href="handy-haversacks.html#part-2-6"><i class="fa fa-check"></i><b>7.2</b> Part 2</a></li>
<li class="chapter" data-level="7.3" data-path="handy-haversacks.html"><a href="handy-haversacks.html#extra-alternative-solution-to-part-2"><i class="fa fa-check"></i><b>7.3</b> Extra: alternative solution to part 2</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="handheld-halting.html"><a href="handheld-halting.html"><i class="fa fa-check"></i><b>8</b> Handheld Halting</a><ul>
<li class="chapter" data-level="8.1" data-path="handheld-halting.html"><a href="handheld-halting.html#part-1-7"><i class="fa fa-check"></i><b>8.1</b> Part 1</a></li>
<li class="chapter" data-level="8.2" data-path="handheld-halting.html"><a href="handheld-halting.html#part-2-7"><i class="fa fa-check"></i><b>8.2</b> Part 2</a></li>
<li class="chapter" data-level="8.3" data-path="handheld-halting.html"><a href="handheld-halting.html#extra-update-the-computer-class"><i class="fa fa-check"></i><b>8.3</b> Extra: update the computer class</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="encoding-error.html"><a href="encoding-error.html"><i class="fa fa-check"></i><b>9</b> Encoding Error</a><ul>
<li class="chapter" data-level="9.1" data-path="encoding-error.html"><a href="encoding-error.html#part-1-8"><i class="fa fa-check"></i><b>9.1</b> Part 1</a></li>
<li class="chapter" data-level="9.2" data-path="encoding-error.html"><a href="encoding-error.html#part-2-8"><i class="fa fa-check"></i><b>9.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="adapter-array.html"><a href="adapter-array.html"><i class="fa fa-check"></i><b>10</b> Adapter Array</a><ul>
<li class="chapter" data-level="10.1" data-path="adapter-array.html"><a href="adapter-array.html#part-1-9"><i class="fa fa-check"></i><b>10.1</b> Part 1</a></li>
<li class="chapter" data-level="10.2" data-path="adapter-array.html"><a href="adapter-array.html#part-2-9"><i class="fa fa-check"></i><b>10.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="seating-system.html"><a href="seating-system.html"><i class="fa fa-check"></i><b>11</b> Seating System</a><ul>
<li class="chapter" data-level="11.1" data-path="seating-system.html"><a href="seating-system.html#part-1-10"><i class="fa fa-check"></i><b>11.1</b> Part 1</a></li>
<li class="chapter" data-level="11.2" data-path="seating-system.html"><a href="seating-system.html#part-2-10"><i class="fa fa-check"></i><b>11.2</b> Part 2</a></li>
<li class="chapter" data-level="11.3" data-path="seating-system.html"><a href="seating-system.html#solving-faster"><i class="fa fa-check"></i><b>11.3</b> Solving faster</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="rain-risk.html"><a href="rain-risk.html"><i class="fa fa-check"></i><b>12</b> Rain Risk</a><ul>
<li class="chapter" data-level="12.1" data-path="rain-risk.html"><a href="rain-risk.html#part-1-11"><i class="fa fa-check"></i><b>12.1</b> Part 1</a></li>
<li class="chapter" data-level="12.2" data-path="rain-risk.html"><a href="rain-risk.html#part-2-11"><i class="fa fa-check"></i><b>12.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="shuttle-search.html"><a href="shuttle-search.html"><i class="fa fa-check"></i><b>13</b> Shuttle Search</a><ul>
<li class="chapter" data-level="13.1" data-path="shuttle-search.html"><a href="shuttle-search.html#part-1-12"><i class="fa fa-check"></i><b>13.1</b> Part 1</a></li>
<li class="chapter" data-level="13.2" data-path="shuttle-search.html"><a href="shuttle-search.html#part-2-12"><i class="fa fa-check"></i><b>13.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="docking-data.html"><a href="docking-data.html"><i class="fa fa-check"></i><b>14</b> Docking Data</a><ul>
<li class="chapter" data-level="14.1" data-path="docking-data.html"><a href="docking-data.html#part-1-13"><i class="fa fa-check"></i><b>14.1</b> Part 1</a></li>
<li class="chapter" data-level="14.2" data-path="docking-data.html"><a href="docking-data.html#part-2-13"><i class="fa fa-check"></i><b>14.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="rambunctious-recitation.html"><a href="rambunctious-recitation.html"><i class="fa fa-check"></i><b>15</b> Rambunctious Recitation</a><ul>
<li class="chapter" data-level="15.1" data-path="rambunctious-recitation.html"><a href="rambunctious-recitation.html#part-1-14"><i class="fa fa-check"></i><b>15.1</b> Part 1</a></li>
<li class="chapter" data-level="15.2" data-path="rambunctious-recitation.html"><a href="rambunctious-recitation.html#part-2-14"><i class="fa fa-check"></i><b>15.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ticket-translation.html"><a href="ticket-translation.html"><i class="fa fa-check"></i><b>16</b> Ticket Translation</a><ul>
<li class="chapter" data-level="16.1" data-path="ticket-translation.html"><a href="ticket-translation.html#part-1-15"><i class="fa fa-check"></i><b>16.1</b> Part 1</a></li>
<li class="chapter" data-level="16.2" data-path="ticket-translation.html"><a href="ticket-translation.html#part-2-15"><i class="fa fa-check"></i><b>16.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="conway-cubes.html"><a href="conway-cubes.html"><i class="fa fa-check"></i><b>17</b> Conway Cubes</a><ul>
<li class="chapter" data-level="17.1" data-path="conway-cubes.html"><a href="conway-cubes.html#part-1-16"><i class="fa fa-check"></i><b>17.1</b> Part 1</a></li>
<li class="chapter" data-level="17.2" data-path="conway-cubes.html"><a href="conway-cubes.html#part-2-16"><i class="fa fa-check"></i><b>17.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="operation-order.html"><a href="operation-order.html"><i class="fa fa-check"></i><b>18</b> Operation Order</a><ul>
<li class="chapter" data-level="18.1" data-path="operation-order.html"><a href="operation-order.html#part-1-17"><i class="fa fa-check"></i><b>18.1</b> Part 1</a></li>
<li class="chapter" data-level="18.2" data-path="operation-order.html"><a href="operation-order.html#part-2-17"><i class="fa fa-check"></i><b>18.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="monster-messages.html"><a href="monster-messages.html"><i class="fa fa-check"></i><b>19</b> Monster Messages</a><ul>
<li class="chapter" data-level="19.1" data-path="monster-messages.html"><a href="monster-messages.html#part-1-18"><i class="fa fa-check"></i><b>19.1</b> Part 1</a></li>
<li class="chapter" data-level="19.2" data-path="monster-messages.html"><a href="monster-messages.html#part-2-18"><i class="fa fa-check"></i><b>19.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="jurassic-jigsaw.html"><a href="jurassic-jigsaw.html"><i class="fa fa-check"></i><b>20</b> Jurassic Jigsaw</a><ul>
<li class="chapter" data-level="20.1" data-path="jurassic-jigsaw.html"><a href="jurassic-jigsaw.html#part-1-19"><i class="fa fa-check"></i><b>20.1</b> Part 1</a></li>
<li class="chapter" data-level="20.2" data-path="jurassic-jigsaw.html"><a href="jurassic-jigsaw.html#part-2-19"><i class="fa fa-check"></i><b>20.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="allergen-assessment.html"><a href="allergen-assessment.html"><i class="fa fa-check"></i><b>21</b> Allergen Assessment</a><ul>
<li class="chapter" data-level="21.1" data-path="allergen-assessment.html"><a href="allergen-assessment.html#part-1-20"><i class="fa fa-check"></i><b>21.1</b> Part 1</a></li>
<li class="chapter" data-level="21.2" data-path="allergen-assessment.html"><a href="allergen-assessment.html#part-2-20"><i class="fa fa-check"></i><b>21.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="crab-combat.html"><a href="crab-combat.html"><i class="fa fa-check"></i><b>22</b> Crab Combat</a><ul>
<li class="chapter" data-level="22.1" data-path="crab-combat.html"><a href="crab-combat.html#part-1-21"><i class="fa fa-check"></i><b>22.1</b> Part 1</a></li>
<li class="chapter" data-level="22.2" data-path="crab-combat.html"><a href="crab-combat.html#part-2-21"><i class="fa fa-check"></i><b>22.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="crab-cups.html"><a href="crab-cups.html"><i class="fa fa-check"></i><b>23</b> Crab Cups</a><ul>
<li class="chapter" data-level="23.1" data-path="crab-cups.html"><a href="crab-cups.html#part-1-22"><i class="fa fa-check"></i><b>23.1</b> Part 1</a></li>
<li class="chapter" data-level="23.2" data-path="crab-cups.html"><a href="crab-cups.html#part-2-22"><i class="fa fa-check"></i><b>23.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="lobby-layout.html"><a href="lobby-layout.html"><i class="fa fa-check"></i><b>24</b> Lobby Layout</a><ul>
<li class="chapter" data-level="24.1" data-path="lobby-layout.html"><a href="lobby-layout.html#part-1-23"><i class="fa fa-check"></i><b>24.1</b> Part 1</a></li>
<li class="chapter" data-level="24.2" data-path="lobby-layout.html"><a href="lobby-layout.html#part-2-23"><i class="fa fa-check"></i><b>24.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="combo-breaker.html"><a href="combo-breaker.html"><i class="fa fa-check"></i><b>25</b> Combo Breaker</a><ul>
<li class="chapter" data-level="25.1" data-path="combo-breaker.html"><a href="combo-breaker.html#part-1-24"><i class="fa fa-check"></i><b>25.1</b> Part 1</a></li>
<li class="chapter" data-level="25.2" data-path="combo-breaker.html"><a href="combo-breaker.html#part-2-24"><i class="fa fa-check"></i><b>25.2</b> Part 2</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advent of Code 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="toboggan-trajectory" class="section level1">
<h1><span class="header-section-number">Day 3</span> Toboggan Trajectory</h1>
<p>This is my attempt to solve <a href="https://adventofcode.com/2020/day/3">Day 3</a>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="toboggan-trajectory.html#cb44-1"></a>sample &lt;-<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">&quot;samples/day_03_sample.txt&quot;</span>)</span>
<span id="cb44-2"><a href="toboggan-trajectory.html#cb44-2"></a>actual &lt;-<span class="st"> </span><span class="kw">read_lines</span>(<span class="st">&quot;inputs/day_03_input.txt&quot;</span>)</span></code></pre></div>
<div id="part-1-2" class="section level2">
<h2><span class="header-section-number">3.1</span> Part 1</h2>
<p>I think it will be easier to convert the map to a 0-1 matrix to solve today’s problem. We won’t need to infinitely
replicate the pattern to the right as we can just use modular arithmetic to index into the matrix.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="toboggan-trajectory.html#cb45-1"></a>input_to_matrix &lt;-<span class="st"> </span><span class="cf">function</span>(input) {</span>
<span id="cb45-2"><a href="toboggan-trajectory.html#cb45-2"></a>  input <span class="op">%&gt;%</span></span>
<span id="cb45-3"><a href="toboggan-trajectory.html#cb45-3"></a><span class="st">    </span><span class="co"># extract each character from the input</span></span>
<span id="cb45-4"><a href="toboggan-trajectory.html#cb45-4"></a><span class="st">    </span><span class="kw">str_extract_all</span>(<span class="st">&quot;.&quot;</span>, <span class="dt">simplify =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb45-5"><a href="toboggan-trajectory.html#cb45-5"></a><span class="st">    </span><span class="co"># if a value is &quot;#&quot; then TRUE, else FALSE</span></span>
<span id="cb45-6"><a href="toboggan-trajectory.html#cb45-6"></a><span class="st">    `</span><span class="dt">==</span><span class="st">`</span>(<span class="st">&quot;#&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb45-7"><a href="toboggan-trajectory.html#cb45-7"></a><span class="st">    </span><span class="co"># convert the TRUE&#39;s to 1, FALSE&#39;s to 0</span></span>
<span id="cb45-8"><a href="toboggan-trajectory.html#cb45-8"></a><span class="st">    </span><span class="kw">apply</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), as.integer)</span>
<span id="cb45-9"><a href="toboggan-trajectory.html#cb45-9"></a>}</span>
<span id="cb45-10"><a href="toboggan-trajectory.html#cb45-10"></a>sample_matrix &lt;-<span class="st"> </span><span class="kw">input_to_matrix</span>(sample)</span>
<span id="cb45-11"><a href="toboggan-trajectory.html#cb45-11"></a>actual_matrix &lt;-<span class="st"> </span><span class="kw">input_to_matrix</span>(actual)</span>
<span id="cb45-12"><a href="toboggan-trajectory.html#cb45-12"></a>sample_matrix</span></code></pre></div>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11]
##  [1,]    0    0    1    1    0    0    0    0    0     0     0
##  [2,]    1    0    0    0    1    0    0    0    1     0     0
##  [3,]    0    1    0    0    0    0    1    0    0     1     0
##  [4,]    0    0    1    0    1    0    0    0    1     0     1
##  [5,]    0    1    0    0    0    1    1    0    0     1     0
##  [6,]    0    0    1    0    1    1    0    0    0     0     0
##  [7,]    0    1    0    1    0    1    0    0    0     0     1
##  [8,]    0    1    0    0    0    0    0    0    0     0     1
##  [9,]    1    0    1    1    0    0    0    1    0     0     0
## [10,]    1    0    0    0    1    1    0    0    0     0     1
## [11,]    0    1    0    0    1    0    0    0    1     0     1</code></pre>
<p>Now that we have 0-1 matrices for the sample and actual data, we can consider how to solve the puzzle. For each row that
we move down the matrix, we need to move 3 to the right (starting from <code>[1,1]</code>). Now, the pattern repeats infinitely to
the right; however, we do not need to repeat the matrix at all. We can simply “wrap around” back to 1 when we reach the
12th column.</p>
<p>In this case, we want to start from 1, then move 3 to the right to 4, then to 7 and 10. But after that we would land at
13, which is the same as being at position 2. We can achieve this using the “remainder” (<code>%%</code>) operator. This is 0
based however, so we need to subtract 1 from the row number and add 1 at the end:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="toboggan-trajectory.html#cb47-1"></a>(<span class="dv">3</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">:</span><span class="dv">11</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">%%</span><span class="st"> </span><span class="dv">11</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span></code></pre></div>
<pre><code>##  [1]  1  4  7 10  2  5  8 11  3  6  9</code></pre>
<p>We can now build a function to work out which “trees” we would land on by traversing the matrix.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="toboggan-trajectory.html#cb49-1"></a>part_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="cf">function</span>(input) {</span>
<span id="cb49-2"><a href="toboggan-trajectory.html#cb49-2"></a>  <span class="co"># create a matrix the same size as input, first filled with 0&#39;s</span></span>
<span id="cb49-3"><a href="toboggan-trajectory.html#cb49-3"></a>  m &lt;-<span class="st"> </span>input <span class="op">*</span><span class="st"> </span><span class="dv">0</span></span>
<span id="cb49-4"><a href="toboggan-trajectory.html#cb49-4"></a>  <span class="co"># but replace with a 1 where we would land on that row</span></span>
<span id="cb49-5"><a href="toboggan-trajectory.html#cb49-5"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(m)) m[i, (<span class="dv">3</span> <span class="op">*</span><span class="st"> </span>(i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">%%</span><span class="st"> </span><span class="kw">ncol</span>(m) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb49-6"><a href="toboggan-trajectory.html#cb49-6"></a>  </span>
<span id="cb49-7"><a href="toboggan-trajectory.html#cb49-7"></a>  <span class="co"># just standard multiplication, not matrix multiplication </span></span>
<span id="cb49-8"><a href="toboggan-trajectory.html#cb49-8"></a>  <span class="kw">sum</span>(input <span class="op">*</span><span class="st"> </span>m)</span>
<span id="cb49-9"><a href="toboggan-trajectory.html#cb49-9"></a>}</span></code></pre></div>
<p>We can check that this function matches the sample provided:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="toboggan-trajectory.html#cb50-1"></a><span class="kw">part_1</span>(sample_matrix) <span class="op">==</span><span class="st"> </span><span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We can now run the part 1 function on the actual data:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="toboggan-trajectory.html#cb52-1"></a><span class="kw">part_1</span>(actual_matrix)</span></code></pre></div>
<pre><code>## [1] 151</code></pre>
</div>
<div id="part-2-2" class="section level2">
<h2><span class="header-section-number">3.2</span> Part 2</h2>
<p>We now need to adapt our function from part 1 to work with different step sizes.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="toboggan-trajectory.html#cb54-1"></a>part_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="cf">function</span>(input, down, right) {</span>
<span id="cb54-2"><a href="toboggan-trajectory.html#cb54-2"></a>  <span class="co"># create a matrix the same size as input, first filled with 0&#39;s</span></span>
<span id="cb54-3"><a href="toboggan-trajectory.html#cb54-3"></a>  m &lt;-<span class="st"> </span>input <span class="op">*</span><span class="st"> </span><span class="dv">0</span></span>
<span id="cb54-4"><a href="toboggan-trajectory.html#cb54-4"></a>  <span class="co"># but replace with a 1 where we would land on that row</span></span>
<span id="cb54-5"><a href="toboggan-trajectory.html#cb54-5"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="kw">nrow</span>(m), down)) {</span>
<span id="cb54-6"><a href="toboggan-trajectory.html#cb54-6"></a>    <span class="co"># our for loop now skips certain rows, but we need to alter our index to be</span></span>
<span id="cb54-7"><a href="toboggan-trajectory.html#cb54-7"></a>    <span class="co"># based on the current step that we are on: so we divide (i - 1) by the down</span></span>
<span id="cb54-8"><a href="toboggan-trajectory.html#cb54-8"></a>    <span class="co"># step size</span></span>
<span id="cb54-9"><a href="toboggan-trajectory.html#cb54-9"></a>    m[i, (right <span class="op">*</span><span class="st"> </span>(i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">/</span><span class="st"> </span>down) <span class="op">%%</span><span class="st"> </span><span class="kw">ncol</span>(m) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb54-10"><a href="toboggan-trajectory.html#cb54-10"></a>  }</span>
<span id="cb54-11"><a href="toboggan-trajectory.html#cb54-11"></a>  </span>
<span id="cb54-12"><a href="toboggan-trajectory.html#cb54-12"></a>  <span class="co"># just standard multiplication, not matrix multiplication. because our trees</span></span>
<span id="cb54-13"><a href="toboggan-trajectory.html#cb54-13"></a>  <span class="co"># are encoded by a 1, and the positions we land are encoded by a 1, we will</span></span>
<span id="cb54-14"><a href="toboggan-trajectory.html#cb54-14"></a>  <span class="co"># find the trees that we encounter iff both positions in input and m are 1.</span></span>
<span id="cb54-15"><a href="toboggan-trajectory.html#cb54-15"></a>  <span class="co"># The value in the resultant matrix will be a 1 in those positions,</span></span>
<span id="cb54-16"><a href="toboggan-trajectory.html#cb54-16"></a>  <span class="co"># otherwise 0. We can then simply sum the matrix.</span></span>
<span id="cb54-17"><a href="toboggan-trajectory.html#cb54-17"></a>  <span class="kw">sum</span>(input <span class="op">*</span><span class="st"> </span>m)</span>
<span id="cb54-18"><a href="toboggan-trajectory.html#cb54-18"></a>}</span></code></pre></div>
<p>We can check that this function matches the sample provided:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="toboggan-trajectory.html#cb55-1"></a><span class="kw">all</span>(</span>
<span id="cb55-2"><a href="toboggan-trajectory.html#cb55-2"></a>  <span class="kw">part_2</span>(sample_matrix, <span class="dv">1</span>, <span class="dv">1</span>) <span class="op">==</span><span class="st"> </span><span class="dv">2</span>,</span>
<span id="cb55-3"><a href="toboggan-trajectory.html#cb55-3"></a>  <span class="kw">part_2</span>(sample_matrix, <span class="dv">1</span>, <span class="dv">3</span>) <span class="op">==</span><span class="st"> </span><span class="dv">7</span>,</span>
<span id="cb55-4"><a href="toboggan-trajectory.html#cb55-4"></a>  <span class="kw">part_2</span>(sample_matrix, <span class="dv">1</span>, <span class="dv">5</span>) <span class="op">==</span><span class="st"> </span><span class="dv">3</span>,</span>
<span id="cb55-5"><a href="toboggan-trajectory.html#cb55-5"></a>  <span class="kw">part_2</span>(sample_matrix, <span class="dv">1</span>, <span class="dv">7</span>) <span class="op">==</span><span class="st"> </span><span class="dv">4</span>,</span>
<span id="cb55-6"><a href="toboggan-trajectory.html#cb55-6"></a>  <span class="kw">part_2</span>(sample_matrix, <span class="dv">2</span>, <span class="dv">1</span>) <span class="op">==</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb55-7"><a href="toboggan-trajectory.html#cb55-7"></a>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We can now run the part 1 function on the actual data:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="toboggan-trajectory.html#cb57-1"></a><span class="kw">prod</span>(</span>
<span id="cb57-2"><a href="toboggan-trajectory.html#cb57-2"></a>  <span class="kw">part_2</span>(actual_matrix, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb57-3"><a href="toboggan-trajectory.html#cb57-3"></a>  <span class="kw">part_2</span>(actual_matrix, <span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb57-4"><a href="toboggan-trajectory.html#cb57-4"></a>  <span class="kw">part_2</span>(actual_matrix, <span class="dv">1</span>, <span class="dv">5</span>),</span>
<span id="cb57-5"><a href="toboggan-trajectory.html#cb57-5"></a>  <span class="kw">part_2</span>(actual_matrix, <span class="dv">1</span>, <span class="dv">7</span>),</span>
<span id="cb57-6"><a href="toboggan-trajectory.html#cb57-6"></a>  <span class="kw">part_2</span>(actual_matrix, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb57-7"><a href="toboggan-trajectory.html#cb57-7"></a>)</span></code></pre></div>
<pre><code>## [1] 7540141059</code></pre>
</div>
<div id="extra-is-there-a-path-that-minimises-the-number-of-trees-you-encounter" class="section level2">
<h2><span class="header-section-number">3.3</span> Extra: Is there a path that minimises the number of trees you encounter?</h2>
<p>First, let’s define some additional constraints. We must consider movements that are unique; for instance, going 2 down
and 2 right is the same as 1 down, 1 right. In this case we will only check 1 down and 1 right.</p>
<p>We also know that going 0 to the right is the same as going the number of columns to the right. So, we consider a
maximum step right that is 1 less than the number of columns. Likewise, down must be between 1 and the number of rows.</p>
<p>We can run our algorithm for any valid combination of movements down and right that match the constraints above. First,
let’s consider what happens when we don’t go right, but we go straight down.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="toboggan-trajectory.html#cb59-1"></a><span class="kw">part_2</span>(actual_matrix, <span class="dv">1</span>, <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] 105</code></pre>
<p>Now, what happens if we always go 1 right?</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="toboggan-trajectory.html#cb61-1"></a><span class="kw">map_dbl</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(actual_matrix), part_<span class="dv">2</span>, <span class="dt">input =</span> actual_matrix, <span class="dt">right =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##   [1] 103  59  29  27  18  13  23  12  10  10   9   9   6   6   6   4   7   3
##  [19]   9   8   8   1   2   3   3   3   2   1   3   7   1   3   2   3   0   1
##  [37]   5   1   4   1   3   1   2   2   2   1   1   3   3   1   1   3   2   0
##  [55]   2   1   1   2   1   2   2   1   2   4   0   2   1   0   1   0   1   0
##  [73]   3   2   2   1   2   1   0   1   2   0   1   2   2   1   0   1   0   1
##  [91]   1   1   1   1   0   0   0   1   1   0   3   0   2   1   1   0   1   1
## [109]   1   1   1   0   1   0   0   0   1   0   0   0   0   0   0   0   0   1
## [127]   0   0   0   0   0   0   1   0   1   0   0   0   1   1   0   0   1   0
## [145]   1   1   1   0   1   0   0   0   1   0   0   0   1   0   0   1   1   0
## [163]   0   0   1   0   1   0   0   0   1   0   0   0   0   0   0   0   0   0
## [181]   0   1   0   0   1   0   0   0   0   0   1   0   0   1   0   0   0   1
## [199]   0   0   0   0   0   0   1   1   0   0   0   1   0   0   0   0   0   0
## [217]   0   0   0   1   0   0   0   0   0   0   0   0   1   1   1   0   0   1
## [235]   0   0   0   1   0   0   0   1   0   0   1   0   0   0   0   1   0   1
## [253]   1   1   0   0   0   0   1   1   1   0   0   1   0   0   1   1   0   1
## [271]   0   0   0   0   0   1   0   0   0   0   0   0   1   0   1   0   0   0
## [289]   1   0   0   0   1   0   0   0   1   0   0   1   0   0   1   1   1   0
## [307]   1   0   0   1   1   0   0   1   0   0   0   0   1   0   0   0   0</code></pre>
<p>We can see a number of options here where we can get to the bottom without hitting any trees. We can’t get any better
than 0, so we may as well give up now rather than try all of the other combinations!</p>
<p>The other combinations would be going just 1 down at each step, and then all of the combinations of right and down such
that the greatest common divisor of right and down is 1. This would give us all of the movements that don’t violate the
constraint above of a non-unique movement. For instance, 6 right, 2 down has a greatest common divisor of 2, and this
combination is the same as 3 right, 1 down.</p>
<hr />
<p><em>Elapsed Time: 0.272s</em></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="password-philosophy.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="passport-processing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
